<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jakob Kaarup Jensen">
<meta name="author" content="Hans Henrik Sievertsen">

<title>Presentation of the 1920 referendum data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="2025-01-10-data-presentation_files/libs/clipboard/clipboard.min.js"></script>
<script src="2025-01-10-data-presentation_files/libs/quarto-html/quarto.js"></script>
<script src="2025-01-10-data-presentation_files/libs/quarto-html/popper.min.js"></script>
<script src="2025-01-10-data-presentation_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="2025-01-10-data-presentation_files/libs/quarto-html/anchor.min.js"></script>
<link href="2025-01-10-data-presentation_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="2025-01-10-data-presentation_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="2025-01-10-data-presentation_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="2025-01-10-data-presentation_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="2025-01-10-data-presentation_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Presentation of the 1920 referendum data</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-contents">
             <p>Jakob Kaarup Jensen </p>
             <p>Hans Henrik Sievertsen </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="in-short" class="level2">
<h2 class="anchored" data-anchor-id="in-short">In short</h2>
<p>We digitized the tables from the book <a href="https://www.kb.dk/e-mat/ww1/114028018322.pdf">“Afstemningen i Sønderjylland (I og II ZONE)”</a> (Det Midlertidige Ministerium for Sønderjyske Anliggender, 1920) on the 1920 Danish-German referendum and made it available in the github repository here <a href="https://github.com/hhsievertsen/Data-on-the-1920-Danish-German-referendum">github.com/hhsievertsen/Data-on-the-1920-Danish-German-referendum</a>. Everyone is welcome to use the data, but please cite the original source (the aforementioned book). This note contains some illustrations of the data.</p>
<p>Please let us know if you find any mistakes (to: <a href="mail@hhsievertsen.net">mail@hhsievertsen.net</a>).</p>
<p>Jakob and Hans</p>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>This note presents the data on vote shares in parishes from the 1920 Danish-German referendum (<a href="https://en.wikipedia.org/wiki/1920_Schleswig_referendum">Wikipedia</a>). The data is digitized from the book <a href="https://www.kb.dk/e-mat/ww1/114028018322.pdf">“Afstemningen i Sønderjylland (I og II ZONE)”</a> using ChatGPT with manual corrections (please let us know if you find any mistakes). The data is available as csv files in the github repository: <a href="https://github.com/hhsievertsen/Data-on-the-1920-Danish-German-referendum">github.com/hhsievertsen/Data-on-the-1920-Danish-German-referendum</a>.</p>
<p>This note is divided into two sections. In the first section we present the results focusing on Zone 1, where we look into the voting results with and without “non-resident votes”. This distinction is explained below. In the second section we look into the vote shares in Zone 1 and 2. We map the share of votes <em>for Denmark</em> across the parishes in both zones, replicating the map from the aforementioned book.</p>
<p>The zones refer to geographical areas which were drawn before the referendum as an outcome of the <em>Treaty of Versailles</em> from 1919. Subsequently, referendums were held in zones to determine national affiliation to either Denmark or Germany.</p>
<p>Zone 1 consists of Northern Schleswig, which today is part of Southern Jutland in Denmark, where the votes resulted in a Danish majority in 1920. Votes <em>for Denmark</em> accounted for approximately 80% of the votes. Zone 2 consists of Middle Schleswig, which today makes up the northern part of the German state of Schleswig-Holstein. In this Zone, the 1920 votes resulted in a clear German majority, with only 12% votes <em>for Denmark</em>.</p>
</section>
<section id="dataset-structure" class="level2">
<h2 class="anchored" data-anchor-id="dataset-structure">Dataset structure</h2>
<p>The data is split into two datasets.</p>
<section id="data-on-vote-shares-with-and-without-non-residents-zone-1-only" class="level3">
<h3 class="anchored" data-anchor-id="data-on-vote-shares-with-and-without-non-residents-zone-1-only">Data on vote shares with and without non-residents (zone 1 only)</h3>
<p>The dataset <a href="2025-01-10-votedata.xlsx">2025-01-10-votedata_with_nonresident_category.csv</a> contains the following five variables</p>
<ol type="1">
<li>parish: The name of the parish (in Danish)</li>
<li>votes_all: The total share (in %) of votes to become Danish</li>
<li>votes_all: The share (in %) of votes to become Danish excluding non-residents</li>
<li>county: The name of the county (in Danish)</li>
<li>zone: the zone (1 or 2)</li>
</ol>
</section>
<section id="data-on-votes-across-both-zones" class="level3">
<h3 class="anchored" data-anchor-id="data-on-votes-across-both-zones">Data on votes across both zones</h3>
<p>The dataset <a href="2025-01-10-votedata.xlsx">2025-01-10-votedata_total.csv</a> contains the following five variables</p>
<ol type="1">
<li>parish: The name of the parish (in Danish)</li>
<li>votes_dk: The total votes (count) for Denmark.</li>
<li>votes_de: The total votes (count) for Germany.</li>
<li>zone: the zone (1 or 2)</li>
</ol>
<p>The dataset <a href="2025-01-10-votedata.xlsx">2025-01-10-votedata_total_merged_parishes.csv</a> is similar to <a href="2025-01-10-votedata.xlsx">2025-01-10-votedata_total.xlsx</a>, but we have manually merged parishes for the map below.</p>
</section>
</section>
<section id="preparation" class="level2">
<h2 class="anchored" data-anchor-id="preparation">Preparation</h2>
<p>Load libraries</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="data-with-and-without-non-residents" class="level2">
<h2 class="anchored" data-anchor-id="data-with-and-without-non-residents">Data with and without non-residents</h2>
<p>In this section, we examine the vote shares with and without non-residents in the 1920 referendum We only look at the votes in Zone 1, as the distinction of vote shares by residents status has not been made for Zone 2 due to a lack of information from the electoral office of Aabenraa (det Midlertidige Ministerium for Sønderjyske Anliggender, 1920).</p>
<p>Non-residents refers to individuals who no longer had residency in the region but nonetheless were granted voting rights based on earlier and temporary affiliation with the area. These individuals referred to those who</p>
<ol type="1">
<li>were born in the area, but not residing in it,</li>
<li>were not born in the area, but had lived there before January 1 1900,</li>
<li>were neither born or residing in the area, but had lived there until they were expelled by the German authorities before 1900 (Fink, 1979: 19). All those who were residents in the voting area also had voting rights and are considered as non-travelers (Ibid).</li>
</ol>
<section id="load-the-data" class="level3">
<h3 class="anchored" data-anchor-id="load-the-data">Load the data</h3>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span><span class="fu">read.table</span>(<span class="st">"data/2025-01-10-votedata_with_nonresident_category.csv"</span>,</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">sep=</span><span class="st">";"</span>,<span class="at">header=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="vote-shares-with-and-without-non-residents" class="level3">
<h3 class="anchored" data-anchor-id="vote-shares-with-and-without-non-residents">Vote shares with and without non-residents</h3>
<p>In the chart below we plot the vote shares including non-residents (y-axis) against the vote shares without non-residents. Most parishes are located above the 45-degree line, indicating that including non-resident votes increased the share voting for Denmark. This is not surprising given that many individuals left the areas because it had moved from Danish to Germany authority (either indirectly, or directly because they were expelled by the German authorities as listed above).</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df,<span class="fu">aes</span>(<span class="at">x=</span>votes_all,<span class="at">y=</span>votes_wo_nonresidents))<span class="sc">+</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>,<span class="at">color=</span><span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"% votes 'for Denmark' including travelers"</span>, <span class="at">y =</span>  <span class="st">"% votes 'for Denmark' excluding travelers"</span>,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">title=</span><span class="st">"Parish vote shares 'for Denmark' in %"</span>)<span class="sc">+</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="2025-01-10-data-presentation_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="distribution-of-the-difference-in-vote-shares" class="level3">
<h3 class="anchored" data-anchor-id="distribution-of-the-difference-in-vote-shares">Distribution of the difference in vote shares</h3>
<p>To illustrate the pattern - that including nonresidents shifted the vote share towards a higher share for Denmark - more clearly, we also plot the difference in the proportion of Danish votes with and without non-residents in the chart below. Most of the mass is to the left of 0. Including non-residents shifted the vote for Denmark by 2.8%points on average.</p>
<p>In some parishes, non-residents had a greater impact, and in a few cases, this has led to a reduction of 10 to about 17% points in votes for Denmark In a single case, in the parish of Sønderborg, the inclusion of non-residents also means that the share of Danish votes drops from 50 to 44 percent. In other words, it shifts from being on the threshold of a majority for Danish affiliation to clearly falling below that threshold when non-residents are included.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>dif<span class="ot">&lt;-</span>df<span class="sc">$</span>votes_all<span class="sc">-</span>df<span class="sc">$</span>votes_wo_nonresidents</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>dif)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
-17.000  -4.000  -2.000  -2.765  -1.000   3.000 </code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df,<span class="fu">aes</span>(<span class="at">x=</span>dif))<span class="sc">+</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">fill=</span><span class="st">"darkgrey"</span>,<span class="at">alpha=</span><span class="fl">0.75</span>,<span class="at">color=</span><span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"  Vote Share 'for Denmark': with vs. without non-residents"</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span><span class="st">"Difference in %points"</span>,<span class="at">y=</span><span class="st">"Density"</span>)<span class="sc">+</span> </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept=</span><span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="2025-01-10-data-presentation_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="vote-shares-for-both-zones" class="level2">
<h2 class="anchored" data-anchor-id="vote-shares-for-both-zones">Vote shares for both zones</h2>
<p>In this section of the note, we present the voting results from the book <a href="https://www.kb.dk/e-mat/ww1/114028018322.pdf">“Afstemningen i Sønderjylland (I og II ZONE)”</a>, published by the temporary Ministry for South Jutland Affairs (det midlertidige Ministerium for sønderjydske Anliggender 1920), covering both Zone I and Zone II. Here, we do not distinguish between votes cast by local residents and those cast by non-residents, as this distinction is not made for Zone II in the aforementioned book.</p>
<section id="load-the-data-1" class="level3">
<h3 class="anchored" data-anchor-id="load-the-data-1">Load the data</h3>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>df<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">"data/2025-01-10-votedata_total.csv"</span>,</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">sep=</span><span class="st">";"</span>,<span class="at">header=</span><span class="cn">TRUE</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>voteshare_dk<span class="ot">&lt;-</span><span class="dv">100</span><span class="sc">*</span>df<span class="sc">$</span>votes_dk<span class="sc">/</span>(df<span class="sc">$</span>votes_de<span class="sc">+</span>df<span class="sc">$</span>votes_dk)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="distribution-of-vote-shares" class="level3">
<h3 class="anchored" data-anchor-id="distribution-of-vote-shares">Distribution of vote shares</h3>
<p>Below we show the distribution of votes for Denmark for Zone 1 and 2, respectively. The chart illustrates how clearly the distributions for the two zones cluster at opposite ends of the scale. This also aligns with the final voting results for the two Zones, where there were 80 percent of votes for Denmark in Zone 1 and 12 percent of the votes for Germany in Zone 2.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df<span class="sc">%&gt;%</span><span class="fu">mutate</span>(<span class="at">Zone=</span><span class="fu">ifelse</span>(Zone<span class="sc">==</span><span class="dv">1</span>,</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Zone 1 (now Denmark)"</span>,<span class="st">"Zone 2 (now Germany)"</span>),</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Zone=</span><span class="fu">factor</span>(Zone,<span class="at">levels=</span><span class="fu">c</span>(<span class="st">"Zone 2 (now Germany)"</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>                                             <span class="st">"Zone 1 (now Denmark)"</span>))), </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x=</span>voteshare_dk, </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">fill=</span><span class="fu">as.factor</span>(Zone), </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">group=</span><span class="fu">as.factor</span>(Zone))) <span class="sc">+</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha=</span><span class="fl">0.5</span>,<span class="at">color=</span><span class="st">"NA"</span>) <span class="sc">+</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">"#d40031"</span>, <span class="st">"dodgerblue3"</span>), <span class="at">name=</span><span class="st">""</span>, ) <span class="sc">+</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"% votes for Denmark"</span>, <span class="at">y =</span> <span class="st">"Density"</span>) <span class="sc">+</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill=</span><span class="fu">guide_legend</span>(<span class="at">title=</span><span class="cn">NULL</span>))<span class="sc">+</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by=</span><span class="dv">10</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="2025-01-10-data-presentation_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="distribution-across-parishes" class="level2">
<h2 class="anchored" data-anchor-id="distribution-across-parishes">Distribution across parishes</h2>
<p>In this section we show the geographic distribution of votes “for Denmark” across parishes in in Zone 1 and 2. This is a replication of the voting map from the book <a href="https://www.kb.dk/e-mat/ww1/114028018322.pdf">“Afstemningen i Sønderjylland (I og II ZONE)”</a> (det Midlertidige Ministerium for Sønderjyske Anliggender, 1920). For this visualization, we use parish shapefiles from both Denmark and Germany to map the election results in each parish.</p>
<p>We are faced with the challenge that some parishes have changed since 1920, both in Zone 1 and Zone 2. Among the Danish parishes in Zone 1, the most significant change is the removal of distinctions between towns and their surrounding rural parishes. For instance, in the more recent parish divisions, there is no distinction between Tønder and Tønder rural parish. Moreover, certain parishes that were once separate, such as Bov and Frøslev, have since been merged. In these cases, we have chosen to merge parishes by combining their results and then calculating the percentage of Danish votes. There are also a few cases where the parishes have since been split; however, this is not a significant challenge, as in these cases, we simply merge areas of these parishes in the shapefiles.</p>
<p>Together, this approach maintains the alignment of the parishes’ geographical areas with their historical boundaries, thus creating consistency between our mapping and the map that we will replot, with the difference that we have merged a few parishes.</p>
<p>The same issue is present in the German parishes in Zone 2, where the main challenge is that some former parishes have since been merged. In these cases, as before, we calculate the combined share of Danish votes for the merged parishes. However, there is also one case where parishes have been split since 1920. This concerns the parishes on the island of Föhr, which originally consisted of three parishes but have now been divided into 11. In this case, we have merged the parishes in the German shapefiles to form the three original parishes.</p>
<section id="data-preparation" class="level3">
<h3 class="anchored" data-anchor-id="data-preparation">Data preparation</h3>
<section id="cleaning-danish-parishes" class="level4">
<h4 class="anchored" data-anchor-id="cleaning-danish-parishes">Cleaning Danish parishes</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load shapefile for Danish parishes</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>dk_sogn <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(<span class="st">"shapefiles/sogn-granser-utm-zone-32n.shp"</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>Adsboel_Graasten <span class="ot">&lt;-</span> dk_sogn <span class="sc">%&gt;%</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(navn <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Adsbøl"</span>, <span class="st">"Gråsten"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">navn =</span> <span class="st">"Adsbøl og</span><span class="sc">\n</span><span class="st"> Gråsten"</span>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>jaegerup_vojens <span class="ot">&lt;-</span> dk_sogn <span class="sc">%&gt;%</span> </span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(navn <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Jegerup"</span>, <span class="st">"Vojens"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">navn =</span> <span class="st">"Jegerup"</span>)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>oster_logum_genner <span class="ot">&lt;-</span> dk_sogn <span class="sc">%&gt;%</span> </span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(navn <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Øster Løgum"</span>, <span class="st">"Genner"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">navn =</span> <span class="st">"Øster Løgum"</span>)</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>egernsund_Broager <span class="ot">&lt;-</span> dk_sogn <span class="sc">%&gt;%</span> </span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(navn <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Egernsund"</span>, <span class="st">"Broager"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">navn =</span> <span class="st">"Broager"</span>)</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>sankt_marie_christians <span class="ot">&lt;-</span> dk_sogn <span class="sc">%&gt;%</span> </span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>((navn <span class="sc">==</span> <span class="st">"Sankt Marie"</span>) <span class="sc">|</span> (navn <span class="sc">==</span> <span class="st">"Christians"</span> <span class="sc">&amp;</span> sognekode <span class="sc">==</span> <span class="dv">8989</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">navn =</span> <span class="st">"Sønderborg"</span>)</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>Haderslev <span class="ot">&lt;-</span> dk_sogn <span class="sc">%&gt;%</span> </span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(navn <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Gammel Haderslev"</span>, <span class="st">"Vor Frue"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">navn =</span> <span class="st">"Haderslev og</span><span class="sc">\n</span><span class="st"> gml. Haderslev"</span>)</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>dk_sogn <span class="ot">&lt;-</span> dk_sogn <span class="sc">%&gt;%</span></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(navn <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Adsbøl"</span>, <span class="st">"Gråsten"</span>, <span class="st">"Jegerup"</span>, <span class="st">"Vojens"</span>,<span class="st">"Øster Løgum"</span>,</span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"Genner"</span>, <span class="st">"Egernsund"</span>, <span class="st">"Broager"</span>,<span class="st">"Sankt Marie"</span>, </span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"Gammel Haderslev"</span>, <span class="st">"Vor Frue"</span>)<span class="sc">|</span>(navn <span class="sc">==</span> <span class="st">"Christians"</span> <span class="sc">&amp;</span> sognekode <span class="sc">!=</span> <span class="dv">8989</span>))) <span class="sc">%&gt;%</span>  <span class="co"># Remove old parishes</span></span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(Adsboel_Graasten, jaegerup_vojens, oster_logum_genner,</span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>            egernsund_Broager, sankt_marie_christians, Haderslev )<span class="sc">%&gt;%</span> <span class="co"># Add merged parishes</span></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Bov"</span>, <span class="st">"Bov og Frøslev"</span>, navn),</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>         <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Højer"</span>, <span class="st">"Højer og</span><span class="sc">\n</span><span class="st"> landsogn"</span>, navn),</span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>         <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Tyrstrup"</span>, <span class="st">"Christiansfeld og</span><span class="sc">\n</span><span class="st"> Tyrstrup"</span>, navn),</span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a>         <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Tønder"</span>, <span class="st">"Tønder og</span><span class="sc">\n</span><span class="st"> landsogn"</span>, navn),</span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>         <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Nordborg"</span>, <span class="st">"Nordborg og</span><span class="sc">\n</span><span class="st"> landsogn"</span>, navn),</span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>         <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Løgumkloster"</span>, <span class="st">"Løgumkloster og</span><span class="sc">\n</span><span class="st"> landsogn"</span>, navn)</span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span></span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(navn <span class="sc">==</span> <span class="st">"Rødding"</span> <span class="sc">&amp;</span> sognekode <span class="sc">!=</span> <span class="dv">8949</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(navn <span class="sc">==</span> <span class="st">"Vedsted"</span> <span class="sc">&amp;</span> sognekode <span class="sc">!=</span> <span class="dv">8980</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(navn <span class="sc">==</span> <span class="st">"Christians"</span> <span class="sc">&amp;</span> sognekode <span class="sc">!=</span> <span class="dv">8949</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(navn <span class="sc">==</span> <span class="st">"Hellevad"</span> <span class="sc">&amp;</span> sognekode <span class="sc">!=</span> <span class="dv">9017</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(navn <span class="sc">==</span> <span class="st">"Visby"</span> <span class="sc">&amp;</span> sognekode <span class="sc">!=</span> <span class="dv">9042</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(navn <span class="sc">==</span> <span class="st">"Svenstrup"</span> <span class="sc">&amp;</span> sognekode <span class="sc">!=</span> <span class="dv">9000</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(navn <span class="sc">==</span> <span class="st">"Hammelev"</span> <span class="sc">&amp;</span> sognekode <span class="sc">!=</span> <span class="dv">8973</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(navn <span class="sc">==</span> <span class="st">"Døstrup"</span> <span class="sc">&amp;</span> sognekode <span class="sc">!=</span> <span class="dv">9048</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(navn <span class="sc">==</span> <span class="st">"Hørup"</span> <span class="sc">&amp;</span> sognekode <span class="sc">!=</span> <span class="dv">8996</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(navn <span class="sc">==</span> <span class="st">"Egvad"</span> <span class="sc">&amp;</span> sognekode <span class="sc">!=</span> <span class="dv">9018</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(navn <span class="sc">==</span> <span class="st">"Hostrup"</span> <span class="sc">&amp;</span> sognekode <span class="sc">!=</span> <span class="dv">9059</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-61"><a href="#cb9-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(navn <span class="sc">==</span> <span class="st">"Hjerting"</span> <span class="sc">&amp;</span> sognekode <span class="sc">!=</span> <span class="dv">8948</span>) ) <span class="sc">%&gt;%</span> </span>
<span id="cb9-62"><a href="#cb9-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(navn <span class="sc">==</span> <span class="st">"Åstrup"</span> <span class="sc">&amp;</span> sognekode <span class="sc">!=</span> <span class="dv">8963</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-63"><a href="#cb9-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(navn <span class="sc">==</span> <span class="st">"Rise"</span> <span class="sc">&amp;</span> sognekode <span class="sc">!=</span> <span class="dv">9014</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-64"><a href="#cb9-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(navn <span class="sc">==</span> <span class="st">"Frørup"</span> <span class="sc">&amp;</span> sognekode <span class="sc">!=</span> <span class="dv">8984</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="cleaning-german-parishes" class="level4">
<h4 class="anchored" data-anchor-id="cleaning-german-parishes">Cleaning German parishes</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load shapefile for German parishes</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>de_geminde <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(<span class="st">"shapefiles/georef-germany-gemeinde-millesime.shp"</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Specifying the relevant gemindes (sogne/parishes)</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>sogne <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"['Gemeinde Rodenäs']"</span>,<span class="st">"['Gemeinde Friedrich-Wilhelm-Lübke-Koog']"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Klanxbüll']"</span>, <span class="st">"['Gemeinde Emmelsbüll-Horsbüll']"</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Aventoft']"</span>, <span class="st">"['Gemeinde Neukirchen']"</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Galmsbüll']"</span>, <span class="st">"['Gemeinde Dagebüll']"</span>, </span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Stedesand']"</span>, <span class="st">"['Gemeinde Enge-Sande']"</span>,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Goldelund']"</span>, <span class="st">"['Gemeinde Joldelund']"</span>, </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Löwenstedt']"</span>, <span class="st">"['Gemeinde Lindewitt']"</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Meyn']"</span>, <span class="st">"['Gemeinde Handewitt']"</span>, </span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Harrislee']"</span>, <span class="st">"['Stadt Flensburg']"</span>,      </span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Stadt Glücksburg (Ostsee)']"</span>, <span class="st">"['Gemeinde Oeversee']"</span>,</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Großenwiehe']"</span>, <span class="st">"['Gemeinde Ellhöft']"</span>,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Westre']"</span>, <span class="st">"['Gemeinde Ladelund']"</span>, </span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Bramstedtlund']"</span>, <span class="st">"['Gemeinde Weesby']"</span>,</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Böxlund']"</span>, <span class="st">"['Gemeinde Jardelund']"</span>, </span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Osterby']"</span>, <span class="st">"['Gemeinde Wallsbüll']"</span>, </span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Stadt Niebüll']"</span>, <span class="st">"['Gemeinde Risum-Lindholm']"</span>, </span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Leck']"</span>, <span class="st">"['Gemeinde Sprakebüll']"</span>, </span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Stadum']"</span>, <span class="st">"['Gemeinde Achtrup']"</span>, </span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Karlum']"</span>, <span class="st">"['Gemeinde Tinningstedt']"</span>,</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Bosbüll']"</span>, <span class="st">"['Gemeinde Uphusum']"</span>, </span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Humptrup']"</span>,<span class="st">"['Gemeinde Braderup']"</span>, </span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Medelby']"</span>, <span class="st">"['Gemeinde Holt']"</span>, </span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Schafflund']"</span>,<span class="st">"['Gemeinde Nordhackstedt']"</span>,</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Hörup']"</span>, <span class="st">"['Gemeinde Klixbüll']"</span>, </span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Süderlügum']"</span>,<span class="st">"['Gemeinde Lexgaard']"</span>, </span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Wees']"</span>, <span class="st">"['Gemeinde Munkbrarup']"</span>, </span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Ringsberg']"</span>,<span class="st">"['Gemeinde Goldebek']"</span>, </span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Sylt']"</span>, <span class="st">"['Gemeinde Kampen (Sylt)']"</span>, </span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde List auf Sylt']"</span>,<span class="st">"['Gemeinde Hörnum (Sylt)']"</span>, </span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Wenningstedt-Braderup (Sylt)']"</span>, </span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Norddorf auf Amrum']"</span>,</span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Nebel']"</span>, <span class="st">"['Gemeinde Wittdün auf Amrum']"</span>, </span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Oldsum']"</span>, <span class="st">"['Gemeinde Dunsum']"</span>,<span class="st">"['Gemeinde Utersum']"</span>,</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Süderende']"</span>, <span class="st">"['Gemeinde Borgsum']"</span>, </span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Alkersum']"</span>,<span class="st">"['Gemeinde Nieblum']"</span>, </span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Midlum']"</span>, <span class="st">"['Gemeinde Oevenum']"</span>, <span class="st">"['Gemeinde Wrixum']"</span>,</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>           <span class="st">"['Gemeinde Tastrup']"</span>, <span class="st">"['Stadt Wyk auf Föhr']"</span>, <span class="st">"['Gemeinde Holm']"</span>)</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Gather the relevant parishes to simplify the dataframes</span></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>de_geminde <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span></span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> sogne) <span class="sc">%&gt;%</span> </span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(gem_name <span class="sc">==</span> <span class="st">"['Gemeinde Neukirchen']"</span> <span class="sc">&amp;</span> vwg_name <span class="sc">!=</span> <span class="st">"['Amt Südtondern']"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(gem_name <span class="sc">==</span> <span class="st">"['Gemeinde Holm']"</span> <span class="sc">&amp;</span> vwg_name <span class="sc">!=</span> <span class="st">"['Amt Südtondern']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(gem_name <span class="sc">==</span> <span class="st">"['Gemeinde Osterby']"</span> <span class="sc">&amp;</span> vwg_name <span class="sc">!=</span> <span class="st">"['Amt Schafflund']"</span>))</span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to danish and gather some of parishes </span></span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>Medelby <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"['Gemeinde Weesby']"</span>, <span class="st">"['Gemeinde Böxlund']"</span>, </span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Jardelund']"</span>,<span class="st">"['Gemeinde Osterby']"</span>,</span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Medelby']"</span>, <span class="st">"['Gemeinde Holt']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"Medelby"</span>)</span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a>Ladelund <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"['Gemeinde Westre']"</span>, <span class="st">"['Gemeinde Ladelund']"</span>,</span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Bramstedtlund']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-63"><a href="#cb10-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-64"><a href="#cb10-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"Ladelund"</span>)</span>
<span id="cb10-65"><a href="#cb10-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-66"><a href="#cb10-66" aria-hidden="true" tabindex="-1"></a>Karlum <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-67"><a href="#cb10-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"['Gemeinde Lexgaard']"</span>, <span class="st">"['Gemeinde Karlum']"</span>,</span>
<span id="cb10-68"><a href="#cb10-68" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Tinningstedt']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-69"><a href="#cb10-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-70"><a href="#cb10-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"Karlum"</span>)</span>
<span id="cb10-71"><a href="#cb10-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-72"><a href="#cb10-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-73"><a href="#cb10-73" aria-hidden="true" tabindex="-1"></a>S_loegum <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-74"><a href="#cb10-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"['Gemeinde Süderlügum']"</span>, <span class="st">"['Gemeinde Ellhöft']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-75"><a href="#cb10-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-76"><a href="#cb10-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"Sønder Løgum"</span>)</span>
<span id="cb10-77"><a href="#cb10-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-78"><a href="#cb10-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-79"><a href="#cb10-79" aria-hidden="true" tabindex="-1"></a>Nykirke <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-80"><a href="#cb10-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"['Gemeinde Neukirchen']"</span>, <span class="st">"['Gemeinde Klanxbüll']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-81"><a href="#cb10-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-82"><a href="#cb10-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"Nykirke"</span>)</span>
<span id="cb10-83"><a href="#cb10-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-84"><a href="#cb10-84" aria-hidden="true" tabindex="-1"></a>Brarup <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-85"><a href="#cb10-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"['Gemeinde Braderup']"</span>, <span class="st">"['Gemeinde Uphusum']"</span>,</span>
<span id="cb10-86"><a href="#cb10-86" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Bosbüll']"</span>, <span class="st">"['Gemeinde Holm']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-87"><a href="#cb10-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-88"><a href="#cb10-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"Brarup"</span>)</span>
<span id="cb10-89"><a href="#cb10-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-90"><a href="#cb10-90" aria-hidden="true" tabindex="-1"></a>Laek <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-91"><a href="#cb10-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"['Gemeinde Leck']"</span>, <span class="st">"['Gemeinde Stadum']"</span>,</span>
<span id="cb10-92"><a href="#cb10-92" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Sprakebüll']"</span>, <span class="st">"['Gemeinde Achtrup']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-93"><a href="#cb10-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-94"><a href="#cb10-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"Læk"</span>)</span>
<span id="cb10-95"><a href="#cb10-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-96"><a href="#cb10-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-97"><a href="#cb10-97" aria-hidden="true" tabindex="-1"></a>Hjordelund <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-98"><a href="#cb10-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"['Gemeinde Goldelund']"</span>, <span class="st">"['Gemeinde Joldelund']"</span>,</span>
<span id="cb10-99"><a href="#cb10-99" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Goldebek']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-100"><a href="#cb10-100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-101"><a href="#cb10-101" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"Hjordelund og Fjolde"</span>)</span>
<span id="cb10-102"><a href="#cb10-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-103"><a href="#cb10-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-104"><a href="#cb10-104" aria-hidden="true" tabindex="-1"></a>Valsboel <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-105"><a href="#cb10-105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"['Gemeinde Wallsbüll']"</span>, <span class="st">"['Gemeinde Meyn']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-106"><a href="#cb10-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-107"><a href="#cb10-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"Valsbøl"</span>)</span>
<span id="cb10-108"><a href="#cb10-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-109"><a href="#cb10-109" aria-hidden="true" tabindex="-1"></a>N_haksted_vi <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-110"><a href="#cb10-110" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"['Gemeinde Schafflund']"</span>, <span class="st">"['Gemeinde Nordhackstedt']"</span>, </span>
<span id="cb10-111"><a href="#cb10-111" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Lindewitt']"</span>, <span class="st">"['Gemeinde Hörup']"</span>, </span>
<span id="cb10-112"><a href="#cb10-112" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Großenwiehe']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-113"><a href="#cb10-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-114"><a href="#cb10-114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"N. Haksted og Vi"</span>)</span>
<span id="cb10-115"><a href="#cb10-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-116"><a href="#cb10-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-117"><a href="#cb10-117" aria-hidden="true" tabindex="-1"></a>Hanved_bov <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-118"><a href="#cb10-118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"['Gemeinde Handewitt']"</span>,  <span class="st">"['Gemeinde Harrislee']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-119"><a href="#cb10-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-120"><a href="#cb10-120" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"Hanved og Bov"</span>)</span>
<span id="cb10-121"><a href="#cb10-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-122"><a href="#cb10-122" aria-hidden="true" tabindex="-1"></a>Munk_Brarup <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-123"><a href="#cb10-123" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"['Gemeinde Wees']"</span>, <span class="st">"['Gemeinde Munkbrarup']"</span>,</span>
<span id="cb10-124"><a href="#cb10-124" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Ringsberg']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-125"><a href="#cb10-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-126"><a href="#cb10-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"Munk og Brarup"</span>)</span>
<span id="cb10-127"><a href="#cb10-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-128"><a href="#cb10-128" aria-hidden="true" tabindex="-1"></a>Flensborg <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-129"><a href="#cb10-129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"['Gemeinde Tastrup']"</span>, <span class="st">"['Stadt Flensburg']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-130"><a href="#cb10-130" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-131"><a href="#cb10-131" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"Flensborg og Adelby"</span>)</span>
<span id="cb10-132"><a href="#cb10-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-133"><a href="#cb10-133" aria-hidden="true" tabindex="-1"></a>Horsboel_emsboel_klangsboel <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-134"><a href="#cb10-134" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"['Gemeinde Friedrich-Wilhelm-Lübke-Koog']"</span>, </span>
<span id="cb10-135"><a href="#cb10-135" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Emmelsbüll-Horsbüll']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-136"><a href="#cb10-136" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-137"><a href="#cb10-137" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"Klangsbøl, Horsbøl og Embsbøl"</span>)</span>
<span id="cb10-138"><a href="#cb10-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-139"><a href="#cb10-139" aria-hidden="true" tabindex="-1"></a>st_laurentii <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-140"><a href="#cb10-140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"['Gemeinde Süderende']"</span>, <span class="st">"['Gemeinde Utersum']"</span>, </span>
<span id="cb10-141"><a href="#cb10-141" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Dunsum']"</span>, <span class="st">"['Gemeinde Oldsum']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-142"><a href="#cb10-142" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-143"><a href="#cb10-143" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"St. Laurentii"</span>)</span>
<span id="cb10-144"><a href="#cb10-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-145"><a href="#cb10-145" aria-hidden="true" tabindex="-1"></a>st_johannis<span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-146"><a href="#cb10-146" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>( <span class="st">"['Gemeinde Alkersum']"</span>, <span class="st">"['Gemeinde Nieblum']"</span>, </span>
<span id="cb10-147"><a href="#cb10-147" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"['Gemeinde Midlum']"</span>, <span class="st">"['Gemeinde Borgsum']"</span>, </span>
<span id="cb10-148"><a href="#cb10-148" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"['Gemeinde Oevenum']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-149"><a href="#cb10-149" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-150"><a href="#cb10-150" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"St. Johannis"</span>)</span>
<span id="cb10-151"><a href="#cb10-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-152"><a href="#cb10-152" aria-hidden="true" tabindex="-1"></a>st_nikolai <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-153"><a href="#cb10-153" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>( <span class="st">"['Gemeinde Wrixum']"</span>,<span class="st">"['Stadt Wyk auf Föhr']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-154"><a href="#cb10-154" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-155"><a href="#cb10-155" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"St. Nikolai"</span>)</span>
<span id="cb10-156"><a href="#cb10-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-157"><a href="#cb10-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-158"><a href="#cb10-158" aria-hidden="true" tabindex="-1"></a>Sild <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-159"><a href="#cb10-159" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>( <span class="st">"['Gemeinde Hörnum (Sylt)']"</span>, </span>
<span id="cb10-160"><a href="#cb10-160" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"['Gemeinde Wenningstedt-Braderup (Sylt)']"</span>, </span>
<span id="cb10-161"><a href="#cb10-161" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"['Gemeinde Sylt']"</span>,<span class="st">"['Gemeinde Kampen (Sylt)']"</span>,</span>
<span id="cb10-162"><a href="#cb10-162" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"['Gemeinde List auf Sylt']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-163"><a href="#cb10-163" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-164"><a href="#cb10-164" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"Sild"</span>)</span>
<span id="cb10-165"><a href="#cb10-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-166"><a href="#cb10-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-167"><a href="#cb10-167" aria-hidden="true" tabindex="-1"></a>Amrum <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span> </span>
<span id="cb10-168"><a href="#cb10-168" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>( <span class="st">"['Gemeinde Norddorf auf Amrum']"</span>, <span class="st">"['Gemeinde Nebel']"</span>, </span>
<span id="cb10-169"><a href="#cb10-169" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"['Gemeinde Wittdün auf Amrum']"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-170"><a href="#cb10-170" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">geometry =</span> <span class="fu">st_union</span>(geometry), <span class="at">do_union =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-171"><a href="#cb10-171" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="st">"Amrum"</span>)</span>
<span id="cb10-172"><a href="#cb10-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-173"><a href="#cb10-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-174"><a href="#cb10-174" aria-hidden="true" tabindex="-1"></a>de_sogn <span class="ot">&lt;-</span> de_geminde <span class="sc">%&gt;%</span></span>
<span id="cb10-175"><a href="#cb10-175" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(<span class="sc">!</span>(gem_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"['Gemeinde Tastrup']"</span>, <span class="st">"['Stadt Flensburg']"</span>,</span>
<span id="cb10-176"><a href="#cb10-176" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Wees']"</span>, <span class="st">"['Gemeinde Munkbrarup']"</span>,</span>
<span id="cb10-177"><a href="#cb10-177" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Ringsberg']"</span>, <span class="st">"['Gemeinde Handewitt']"</span>,</span>
<span id="cb10-178"><a href="#cb10-178" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Harrislee']"</span>,<span class="st">"['Gemeinde Schafflund']"</span>,</span>
<span id="cb10-179"><a href="#cb10-179" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Nordhackstedt']"</span>, <span class="st">"['Gemeinde Lindewitt']"</span>,</span>
<span id="cb10-180"><a href="#cb10-180" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Hörup']"</span>, <span class="st">"['Gemeinde Großenwiehe']"</span>,</span>
<span id="cb10-181"><a href="#cb10-181" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Wallsbüll']"</span>, <span class="st">"['Gemeinde Meyn']"</span>, </span>
<span id="cb10-182"><a href="#cb10-182" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Goldelund']"</span>, <span class="st">"['Gemeinde Joldelund']"</span>,</span>
<span id="cb10-183"><a href="#cb10-183" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Goldebek']"</span>,<span class="st">"['Gemeinde Leck']"</span>, </span>
<span id="cb10-184"><a href="#cb10-184" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Stadum']"</span>,<span class="st">"['Gemeinde Sprakebüll']"</span>, </span>
<span id="cb10-185"><a href="#cb10-185" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Achtrup']"</span>,<span class="st">"['Gemeinde Braderup']"</span>, </span>
<span id="cb10-186"><a href="#cb10-186" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Uphusum']"</span>, <span class="st">"['Gemeinde Bosbüll']"</span>, </span>
<span id="cb10-187"><a href="#cb10-187" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Holm']"</span>,<span class="st">"['Gemeinde Neukirchen']"</span>, </span>
<span id="cb10-188"><a href="#cb10-188" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Klanxbüll']"</span>,<span class="st">"['Gemeinde Süderlügum']"</span>,</span>
<span id="cb10-189"><a href="#cb10-189" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Ellhöft']"</span>, <span class="st">"['Gemeinde Tinningstedt']"</span>,</span>
<span id="cb10-190"><a href="#cb10-190" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Lexgaard']"</span>, <span class="st">"['Gemeinde Karlum']"</span>,</span>
<span id="cb10-191"><a href="#cb10-191" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Tinningstedt']"</span>,<span class="st">"['Gemeinde Westre']"</span>, </span>
<span id="cb10-192"><a href="#cb10-192" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Ladelund']"</span>, <span class="st">"['Gemeinde Bramstedtlund']"</span>,</span>
<span id="cb10-193"><a href="#cb10-193" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Weesby']"</span>, <span class="st">"['Gemeinde Böxlund']"</span>, </span>
<span id="cb10-194"><a href="#cb10-194" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Jardelund']"</span>,<span class="st">"['Gemeinde Osterby']"</span>,</span>
<span id="cb10-195"><a href="#cb10-195" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Medelby']"</span>, <span class="st">"['Gemeinde Holt']"</span>,</span>
<span id="cb10-196"><a href="#cb10-196" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Friedrich-Wilhelm-Lübke-Koog']"</span>, </span>
<span id="cb10-197"><a href="#cb10-197" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Emmelsbüll-Horsbüll']"</span>,</span>
<span id="cb10-198"><a href="#cb10-198" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Süderende']"</span>,</span>
<span id="cb10-199"><a href="#cb10-199" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Utersum']"</span>, <span class="st">"['Gemeinde Dunsum']"</span>, </span>
<span id="cb10-200"><a href="#cb10-200" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Oldsum']"</span>,<span class="st">"['Gemeinde Alkersum']"</span>, </span>
<span id="cb10-201"><a href="#cb10-201" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Nieblum']"</span>, <span class="st">"['Gemeinde Midlum']"</span>, </span>
<span id="cb10-202"><a href="#cb10-202" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Borgsum']"</span>, <span class="st">"['Gemeinde Oevenum']"</span>,</span>
<span id="cb10-203"><a href="#cb10-203" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Wrixum']"</span>,<span class="st">"['Stadt Wyk auf Föhr']"</span>,</span>
<span id="cb10-204"><a href="#cb10-204" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Hörnum (Sylt)']"</span>,</span>
<span id="cb10-205"><a href="#cb10-205" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Wenningstedt-Braderup (Sylt)']"</span>, </span>
<span id="cb10-206"><a href="#cb10-206" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Sylt']"</span>, <span class="st">"['Gemeinde Kampen (Sylt)']"</span>, </span>
<span id="cb10-207"><a href="#cb10-207" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde List auf Sylt']"</span>,</span>
<span id="cb10-208"><a href="#cb10-208" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Norddorf auf Amrum']"</span>,</span>
<span id="cb10-209"><a href="#cb10-209" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"['Gemeinde Nebel']"</span>, <span class="st">"['Gemeinde Wittdün auf Amrum']"</span></span>
<span id="cb10-210"><a href="#cb10-210" aria-hidden="true" tabindex="-1"></a>                    )</span>
<span id="cb10-211"><a href="#cb10-211" aria-hidden="true" tabindex="-1"></a>                      )) <span class="sc">%&gt;%</span>  <span class="co"># Remove old parishes</span></span>
<span id="cb10-212"><a href="#cb10-212" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(Medelby,Ladelund, Karlum,S_loegum, Nykirke, Brarup, Laek, Hjordelund, </span>
<span id="cb10-213"><a href="#cb10-213" aria-hidden="true" tabindex="-1"></a>            Valsboel, N_haksted_vi, Hanved_bov, Munk_Brarup, Flensborg,</span>
<span id="cb10-214"><a href="#cb10-214" aria-hidden="true" tabindex="-1"></a>            Amrum, Sild, st_nikolai, st_johannis, st_laurentii,</span>
<span id="cb10-215"><a href="#cb10-215" aria-hidden="true" tabindex="-1"></a>            Horsboel_emsboel_klangsboel) <span class="sc">%&gt;%</span></span>
<span id="cb10-216"><a href="#cb10-216" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gem_name =</span> <span class="fu">ifelse</span>(gem_name <span class="sc">==</span> <span class="st">"['Gemeinde Galmsbüll']"</span>, </span>
<span id="cb10-217"><a href="#cb10-217" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Galmsbøl og Dedsbøl"</span>, gem_name),</span>
<span id="cb10-218"><a href="#cb10-218" aria-hidden="true" tabindex="-1"></a>         <span class="at">gem_name =</span> <span class="fu">ifelse</span>(gem_name <span class="sc">==</span> <span class="st">"['Gemeinde Dagebüll']"</span>, </span>
<span id="cb10-219"><a href="#cb10-219" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Dagebøl og Faretoft"</span>, gem_name),</span>
<span id="cb10-220"><a href="#cb10-220" aria-hidden="true" tabindex="-1"></a>         <span class="at">gem_name =</span> <span class="fu">ifelse</span>(gem_name <span class="sc">==</span> <span class="st">"['Gemeinde Risum-Lindholm']"</span>, </span>
<span id="cb10-221"><a href="#cb10-221" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Risum og Lindholm"</span>, gem_name),</span>
<span id="cb10-222"><a href="#cb10-222" aria-hidden="true" tabindex="-1"></a>         <span class="at">gem_name =</span> <span class="fu">ifelse</span>(gem_name <span class="sc">==</span> <span class="st">"['Gemeinde Stedesand']"</span>, </span>
<span id="cb10-223"><a href="#cb10-223" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Stedesand"</span>, gem_name),</span>
<span id="cb10-224"><a href="#cb10-224" aria-hidden="true" tabindex="-1"></a>         <span class="at">gem_name =</span> <span class="fu">ifelse</span>(gem_name <span class="sc">==</span> <span class="st">"['Stadt Niebüll']"</span>, <span class="st">"Nibøl"</span>, gem_name),</span>
<span id="cb10-225"><a href="#cb10-225" aria-hidden="true" tabindex="-1"></a>         <span class="at">gem_name =</span> <span class="fu">ifelse</span>(gem_name <span class="sc">==</span> <span class="st">"['Gemeinde Klixbüll']"</span>, </span>
<span id="cb10-226"><a href="#cb10-226" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Klægsbøl"</span>, gem_name),</span>
<span id="cb10-227"><a href="#cb10-227" aria-hidden="true" tabindex="-1"></a>         <span class="at">gem_name =</span> <span class="fu">ifelse</span>(gem_name <span class="sc">==</span> <span class="st">"['Gemeinde Enge-Sande']"</span>, </span>
<span id="cb10-228"><a href="#cb10-228" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Enge"</span>, gem_name),</span>
<span id="cb10-229"><a href="#cb10-229" aria-hidden="true" tabindex="-1"></a>         <span class="at">gem_name =</span> <span class="fu">ifelse</span>(gem_name <span class="sc">==</span> <span class="st">"['Gemeinde Löwenstedt']"</span>, </span>
<span id="cb10-230"><a href="#cb10-230" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Lyngsted, Østenaa, og Stiglund"</span>, gem_name),</span>
<span id="cb10-231"><a href="#cb10-231" aria-hidden="true" tabindex="-1"></a>         <span class="at">gem_name =</span> <span class="fu">ifelse</span>(gem_name <span class="sc">==</span> <span class="st">"['Gemeinde Rodenäs']"</span>, </span>
<span id="cb10-232"><a href="#cb10-232" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Rødenæs"</span>, gem_name),</span>
<span id="cb10-233"><a href="#cb10-233" aria-hidden="true" tabindex="-1"></a>         <span class="at">gem_name =</span> <span class="fu">ifelse</span>(gem_name <span class="sc">==</span> <span class="st">"['Gemeinde Aventoft']"</span>, </span>
<span id="cb10-234"><a href="#cb10-234" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Aventoft"</span>, gem_name),</span>
<span id="cb10-235"><a href="#cb10-235" aria-hidden="true" tabindex="-1"></a>         <span class="at">gem_name =</span> <span class="fu">ifelse</span>(gem_name <span class="sc">==</span> <span class="st">"['Gemeinde Humptrup']"</span>, </span>
<span id="cb10-236"><a href="#cb10-236" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Humtrup"</span>, gem_name),</span>
<span id="cb10-237"><a href="#cb10-237" aria-hidden="true" tabindex="-1"></a>         <span class="at">gem_name =</span> <span class="fu">ifelse</span>(gem_name <span class="sc">==</span> <span class="st">"['Gemeinde Oeversee']"</span>, </span>
<span id="cb10-238"><a href="#cb10-238" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Oversø"</span>, gem_name),</span>
<span id="cb10-239"><a href="#cb10-239" aria-hidden="true" tabindex="-1"></a>         <span class="at">gem_name =</span> <span class="fu">ifelse</span>(gem_name <span class="sc">==</span> <span class="st">"['Stadt Glücksburg (Ostsee)']"</span>, </span>
<span id="cb10-240"><a href="#cb10-240" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Lyksborg"</span>, gem_name))  <span class="sc">%&gt;%</span> </span>
<span id="cb10-241"><a href="#cb10-241" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">navn=</span>gem_name)</span>
<span id="cb10-242"><a href="#cb10-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-243"><a href="#cb10-243" aria-hidden="true" tabindex="-1"></a><span class="co"># Cleaning</span></span>
<span id="cb10-244"><a href="#cb10-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-245"><a href="#cb10-245" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(Adsboel_Graasten,Amrum,Brarup, egernsund_Broager,Flensborg , Haderslev, </span>
<span id="cb10-246"><a href="#cb10-246" aria-hidden="true" tabindex="-1"></a>   Hanved_bov, Hjordelund,Horsboel_emsboel_klangsboel, jaegerup_vojens, Karlum, </span>
<span id="cb10-247"><a href="#cb10-247" aria-hidden="true" tabindex="-1"></a>   Ladelund, Laek, Medelby, Munk_Brarup, N_haksted_vi, Nykirke, oster_logum_genner,</span>
<span id="cb10-248"><a href="#cb10-248" aria-hidden="true" tabindex="-1"></a>   S_loegum, sankt_marie_christians, Sild, st_johannis, st_laurentii, st_nikolai,</span>
<span id="cb10-249"><a href="#cb10-249" aria-hidden="true" tabindex="-1"></a>   Valsboel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="cleaning-vote-data" class="level4">
<h4 class="anchored" data-anchor-id="cleaning-vote-data">Cleaning vote data</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data prepping for Zone 1</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>valgdata_zone1 <span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">"data/2025-01-10-votedata_total_merged_parishes.csv"</span>,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">sep=</span><span class="st">";"</span>,<span class="at">header=</span><span class="cn">TRUE</span>)<span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rename</span>(<span class="at">navn=</span>parish)<span class="sc">%&gt;%</span> </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(Zone <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Fol"</span>, <span class="st">"Fole"</span>, navn),</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Ubjærg"</span>, <span class="st">"Ubjerg"</span>, navn),</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Lygumkloster og landsogn"</span>, </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Løgumkloster og landsogn"</span>, navn),</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"N. Lygum"</span>, <span class="st">"Nørre Løgum"</span>, navn),</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Oxbøl"</span>, <span class="st">"Oksbøl"</span>, navn),</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Ris"</span>, <span class="st">"Rise"</span>, navn),</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Bjøldrup"</span>, <span class="st">"Bjolderup"</span>, navn),</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Hjortkær"</span>, <span class="st">"Hjordkær"</span>, navn),</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Ø. Lygum"</span>, <span class="st">"Øster Løgum"</span>, navn),</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Randrup"</span>, <span class="st">"Randerup"</span>, navn),</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Skast"</span>, <span class="st">"Sønder Skast"</span>, navn),</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Ø. Lindet"</span>, <span class="st">"Øster Lindet"</span>, navn),</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Oxenvad"</span>, <span class="st">"Oksenvad"</span>, navn),</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Jægerup"</span>, <span class="st">"Jegerup"</span>, navn),</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Magstrup"</span>, <span class="st">"Maugstrup"</span>, navn),</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Moitrup"</span>, <span class="st">"Moltrup"</span>, navn),</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Aastrup"</span>, <span class="st">"Åstrup"</span>, navn),</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Saatrup"</span>, <span class="st">"Sottrup"</span>, navn),</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Kejnæs"</span>, <span class="st">"Kegnæs"</span>, navn),</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Hagenbjærg"</span>, <span class="st">"Havnbjerg"</span>, navn),</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Starup"</span>, <span class="st">"Sønder Starup"</span>, navn),</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Hygum"</span>, <span class="st">"Sønder Hygum"</span>, navn),</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Asbøl, Graasteen"</span>, <span class="st">"Adsbøl og</span><span class="sc">\n</span><span class="st"> Gråsten"</span>,</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>                             navn),</span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Hvidding"</span>, <span class="st">"Hviding"</span>, navn),</span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Løgumkloster og landsogn"</span>, </span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Løgumkloster og</span><span class="sc">\n</span><span class="st"> landsogn"</span>, navn),</span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Nordborg og landsogn"</span>, </span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Nordborg og</span><span class="sc">\n</span><span class="st"> landsogn"</span>, navn),</span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Christiansfeld og Tyrstrup"</span>, </span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Christiansfeld og</span><span class="sc">\n</span><span class="st"> Tyrstrup"</span>, navn),</span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Højer og landsogn"</span>, </span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Højer og</span><span class="sc">\n</span><span class="st"> landsogn"</span>, navn),</span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Tønder og landsogn"</span>, <span class="st">"Tønder og</span><span class="sc">\n</span><span class="st"> landsogn"</span>,</span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a>                             navn),</span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>               <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Haderslev og gml. Haderslev"</span>, </span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Haderslev og</span><span class="sc">\n</span><span class="st"> gml. Haderslev"</span>, navn),</span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a>               )</span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge data</span></span>
<span id="cb11-47"><a href="#cb11-47" aria-hidden="true" tabindex="-1"></a>mapdata_dk <span class="ot">&lt;-</span><span class="fu">left_join</span>(dk_sogn,valgdata_zone1,<span class="at">by=</span><span class="st">"navn"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb11-48"><a href="#cb11-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(Zone)</span>
<span id="cb11-49"><a href="#cb11-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-50"><a href="#cb11-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Data prepping for Zone 2</span></span>
<span id="cb11-51"><a href="#cb11-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-52"><a href="#cb11-52" aria-hidden="true" tabindex="-1"></a>valgdata_zone2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/2025-01-10-votedata_total_merged_parishes.csv"</span>,</span>
<span id="cb11-53"><a href="#cb11-53" aria-hidden="true" tabindex="-1"></a>               <span class="at">sep=</span><span class="st">";"</span>,<span class="at">header=</span><span class="cn">TRUE</span>)<span class="sc">%&gt;%</span></span>
<span id="cb11-54"><a href="#cb11-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">navn=</span>parish) <span class="sc">%&gt;%</span> </span>
<span id="cb11-55"><a href="#cb11-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Zone <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-56"><a href="#cb11-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"S. Lygum"</span>, <span class="st">"Sønder Løgum"</span>, navn))</span>
<span id="cb11-57"><a href="#cb11-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-58"><a href="#cb11-58" aria-hidden="true" tabindex="-1"></a><span class="co"># Changing the names of some parishes to make the map more clear</span></span>
<span id="cb11-59"><a href="#cb11-59" aria-hidden="true" tabindex="-1"></a>mapdata_de <span class="ot">&lt;-</span><span class="fu">left_join</span>(de_sogn,valgdata_zone2,<span class="at">by=</span><span class="st">"navn"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-60"><a href="#cb11-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Lyngsted, Østenaa, og Stiglund"</span>, </span>
<span id="cb11-61"><a href="#cb11-61" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"Lyngsted,</span><span class="sc">\n</span><span class="st"> Østenaa, og</span><span class="sc">\n</span><span class="st"> Stiglund"</span>, navn),</span>
<span id="cb11-62"><a href="#cb11-62" aria-hidden="true" tabindex="-1"></a>         <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Munk og Brarup"</span>, <span class="st">"Munk og</span><span class="sc">\n</span><span class="st"> Brarup"</span>, navn),</span>
<span id="cb11-63"><a href="#cb11-63" aria-hidden="true" tabindex="-1"></a>         <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Flensborg og Adelby"</span>, <span class="st">"Flensborg og</span><span class="sc">\n</span><span class="st"> Adelby"</span>, </span>
<span id="cb11-64"><a href="#cb11-64" aria-hidden="true" tabindex="-1"></a>                       navn),</span>
<span id="cb11-65"><a href="#cb11-65" aria-hidden="true" tabindex="-1"></a>         <span class="at">navn =</span> <span class="fu">ifelse</span>(navn <span class="sc">==</span> <span class="st">"Klangsbøl, Horsbøl og Embsbøl"</span>, </span>
<span id="cb11-66"><a href="#cb11-66" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"Klangsbøl, Horsbøl og</span><span class="sc">\n</span><span class="st"> Embsbøl"</span>, navn))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="create-map-data" class="level4">
<h4 class="anchored" data-anchor-id="create-map-data">Create map data</h4>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge the election and mapdata into one dataframe</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>mapdata_de <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(mapdata_de, <span class="fu">st_crs</span>(mapdata_dk))</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>map_parishes <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(mapdata_de, mapdata_dk)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>map_parishes<span class="sc">$</span>voteshare_dk<span class="ot">&lt;-</span><span class="dv">100</span><span class="sc">*</span>map_parishes<span class="sc">$</span>votes_dk<span class="sc">/</span>(map_parishes<span class="sc">$</span>votes_de<span class="sc">+</span>map_parishes<span class="sc">$</span>votes_dk)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="create-map" class="level4">
<h4 class="anchored" data-anchor-id="create-map">Create map</h4>
<p>As the map below clearly shows, there is a majority of Danish votes in Zone 1 and a majority of German votes in Zone 2. However, it can be seen that the closer one is to the border between the zones, i.e., the Danish-German border, the more evenly the votes are distributed. This is particularly pronounced in Zone 1, where certain parishes such as Højer, Tønder, Ubjerg, and Tinglev even show a majority of German votes.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(map_parishes) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient2</span>(</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">low =</span> <span class="st">"#00913d"</span>,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">mid =</span> <span class="st">"white"</span>,</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">na.value =</span> <span class="st">"grey90"</span>,</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">high =</span> <span class="st">"#d40031"</span>,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">midpoint =</span> <span class="dv">50</span>  ) <span class="sc">+</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> voteshare_dk), <span class="at">color =</span> <span class="st">"#8a8a8a"</span>, <span class="at">size =</span> <span class="fl">0.5</span>) <span class="sc">+</span>  <span class="co"># Borders</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> map_parishes <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Zone) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">20</span>, <span class="at">fill =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste</span>(navn, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="fu">sprintf</span>(<span class="st">"%.1f"</span>, voteshare_dk), <span class="st">"%"</span>)), </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">"black"</span>, )<span class="sc">+</span> </span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill =</span> <span class="st">"% votes for Denmark"</span>, </span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Parish votes in the 1920</span><span class="sc">\n</span><span class="st"> Danish-German Referendum </span><span class="sc">\n</span><span class="st">"</span>,</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Note: Merged parishes are following for Zone 1: Christiansfeld og </span><span class="sc">\n</span><span class="st">Tyrstrup, Bov og Frøslev, Højer og Højer Landsogn, Nordborg og Nordborg Landsogn,</span><span class="sc">\n</span><span class="st">Løgumkloster og Løgumkloster Landsogn; </span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="st">       </span><span class="sc">\n</span><span class="st">For Zone 2: Sild, Hanved og Bov, Flensborg og Adelby, </span><span class="sc">\n</span><span class="st">N. Haksted og Vi, Risum og Lindholm, Dagebøl og Faretoft, Glamsbøl og Dedsbøl, </span><span class="sc">\n</span><span class="st">Klangsbøl, Horsbøl og Embsbøl. </span><span class="sc">\n</span><span class="st"> </span><span class="sc">\n</span><span class="st"> Data Source: Det Midlertidige Ministerium for Sønderjyske Anliggender, 1920. </span><span class="sc">\n</span><span class="st"> Created by Jakob Kaarup Jensen &amp; Hans Henrik Sievertsen. "</span>) <span class="sc">+</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.1</span>,<span class="fl">0.9</span>),</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>,<span class="at">size=</span><span class="dv">10</span>),</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span>  <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>,<span class="at">size=</span><span class="dv">50</span>,<span class="at">family=</span><span class="st">"serif"</span>),</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill=</span><span class="st">"#f2f6fc"</span>,<span class="at">color=</span><span class="st">"#f2f6fc"</span>),</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">15</span>),</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">18</span>),</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>        )<span class="sc">+</span> </span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="fl">448340.1</span>, <span class="fl">567000.1</span>) <span class="sc">+</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">6053594</span>, <span class="dv">6146594</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="2025-01-10-data-presentation_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="1920"></p>
</div>
</div>
</section>
</section>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><p>Det Midlertidige Ministerium for Sønderjyske Anliggender (1920): <a href="https://www.kb.dk/e-mat/ww1/114028018322.pdf">“Afstemningen i Sønderjylland (I og II ZONE)”</a></p></li>
<li><p>Fink (1979):“Da Sønderjylland blev delt 1918-1920 Bind 3. Afstemningerne og genforeningen januar til juli 1920.”</p></li>
</ul>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>